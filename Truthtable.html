<!DOCTYPE HTML>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <title></title>
  <script src="NotationConverter.js" type="text/javascript"></script>
  <script>
	var converter = new NotationConverter();
	var s = converter.convert("infixExpression");
	//alert(s);
	
	function generate(){
		var infixInput = document.getElementById("infixInput").value;		
		//alert('click');
		
		// convert infix from postfix to infix
		// and get the variablelist
		var converter = new NotationConverter();
		var postfix = converter.convert(infixInput);
		var variableList = converter.getVariableList(postfix);
		
		// generate true and false table
		var truthtableGenerator = new TruthableGenerator();
		var truthtable = truthtableGenerator.generate(variableList);
		
		// evalute the result
		var evalutor = new PostfixEvalutor();
		evalutor.setTruthtable(truthtable);
		evalutor.evalute(postfix);
		
		var resultTruthtable = evalutor.getTruthtable();
		/* for (var i = 0; i < resultTruthtable.length; i++){
			System.out.println()
		} */
		
		var tableContent = '<table>';
		tableContent += '<tr>'
		for (var i = 0; i < variableList.length; i++){
			tableContent += '<th>' + variableList[i] + '</th>'; 
		}
		tableContent += '<th>Result</th>';
		tableContent += '</tr>';
		
		for (var i = 0; i < resultTruthtable.length; i++){
			var row = resultTruthtable[i];
			tableContent += '<tr>'
			for (key in row){
				tableContent += '<th>' + row[key] + '</th>';	
			}
			tableContent += '</tr>';
		}
		tableContent += '</table>';
		
		alert(tableContent);
		
		var infixInput = document.getElementById("truthTableDiv").innerHTML = tableContent;
	}
  </script>
</head>
<body>
  Input: <input type="text" id="infixInput" />
  <input type="button"  onclick="generate()" />
  <div id="truthTableDiv">
  
  </div>
</body>
</html>